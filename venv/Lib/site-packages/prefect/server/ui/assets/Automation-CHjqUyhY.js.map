{"version":3,"file":"Automation-CHjqUyhY.js","sources":["../../src/pages/Automation.vue"],"sourcesContent":["<template>\n  <p-layout-default v-if=\"automation\" class=\"automation\">\n    <template #header>\n      <PageHeading :crumbs=\"crumbs\">\n        <template #actions>\n          <AutomationToggle :automation=\"automation\" @update=\"subscription.refresh\" />\n          <AutomationMenu :automation=\"automation\" @delete=\"goToAutomations\" />\n        </template>\n      </PageHeading>\n    </template>\n    <p-content>\n      <p-key-value label=\"Description\" :value=\"automation.description\" />\n\n      <p-content secondary>\n        <span class=\"automation-card__label\">Trigger</span>\n        <AutomationTriggerDescription :trigger=\"automation.trigger\" />\n      </p-content>\n\n      <p-content secondary>\n        <span class=\"automation-card__label\">{{ toPluralString('Action', automation.actions.length) }}</span>\n        <template v-for=\"action in automation.actions\" :key=\"action.id\">\n          <p-card><AutomationActionDescription :action=\"action\" /></p-card>\n        </template>\n      </p-content>\n    </p-content>\n  </p-layout-default>\n</template>\n\n<script lang=\"ts\" setup>\n  import { Crumb } from '@prefecthq/prefect-design'\n  import { PageHeading, AutomationMenu, AutomationToggle, AutomationTriggerDescription, AutomationActionDescription, toPluralString, useWorkspaceRoutes } from '@prefecthq/prefect-ui-library'\n  import { useRouteParam, useSubscription } from '@prefecthq/vue-compositions'\n  import { computed } from 'vue'\n  import { useRouter } from 'vue-router'\n  import { usePageTitle } from '@/compositions/usePageTitle'\n  import { usePrefectApi } from '@/compositions/usePrefectApi'\n\n  const routes = useWorkspaceRoutes()\n  const router = useRouter()\n  const api = usePrefectApi()\n  const automationId = useRouteParam('automationId')\n\n  const subscription = useSubscription(api.automations.getAutomation, [automationId])\n  const automation = computed(() => subscription.response)\n\n  const name = computed(() => automation.value?.name ?? '')\n\n  const crumbs = computed<Crumb[]>(() => [\n    { text: 'Automations', to: routes.automations() },\n    { text: name.value },\n  ])\n\n  const title = computed<string>(() => {\n    if (automation.value) {\n      return `Automation: ${automation.value.name}`\n    }\n\n    return 'Automation'\n  })\n\n  usePageTitle(title)\n\n  function goToAutomations(): void {\n    router.push(routes.automations())\n  }\n</script>"],"names":["routes","useWorkspaceRoutes","router","useRouter","api","usePrefectApi","automationId","useRouteParam","subscription","useSubscription","automation","computed","name","crumbs","title","usePageTitle","goToAutomations","_createBlock","_component_p_layout_default","_createVNode","_unref","PageHeading","AutomationToggle","AutomationMenu","_component_p_content","_component_p_key_value","_cache","_createElementVNode","AutomationTriggerDescription","_hoisted_1","_toDisplayString","toPluralString","_openBlock","_createElementBlock","_Fragment","_renderList","action","_component_p_card","AutomationActionDescription"],"mappings":"gZAqCE,MAAMA,EAASC,EAAA,EACTC,EAASC,EAAA,EACTC,EAAMC,EAAA,EACNC,EAAeC,EAAc,cAAc,EAE3CC,EAAeC,EAAgBL,EAAI,YAAY,cAAe,CAACE,CAAY,CAAC,EAC5EI,EAAaC,EAAS,IAAMH,EAAa,QAAQ,EAEjDI,EAAOD,EAAS,IAAMD,EAAW,OAAO,MAAQ,EAAE,EAElDG,EAASF,EAAkB,IAAM,CACrC,CAAE,KAAM,cAAe,GAAIX,EAAO,aAAY,EAC9C,CAAE,KAAMY,EAAK,KAAA,CAAM,CACpB,EAEKE,EAAQH,EAAiB,IACzBD,EAAW,MACN,eAAeA,EAAW,MAAM,IAAI,GAGtC,YACR,EAEDK,EAAaD,CAAK,EAElB,SAASE,GAAwB,CAC/Bd,EAAO,KAAKF,EAAO,aAAa,CAClC,sGA/DwBU,EAAA,WAAxBO,EAwBmBC,EAAA,OAxBiB,MAAM,YAAA,GAC7B,SACT,IAKc,CALdC,EAKcC,EAAAC,CAAA,EAAA,CALA,OAAQR,EAAA,OAAM,CACf,UACT,IAA4E,CAA5EM,EAA4EC,EAAAE,CAAA,EAAA,CAAzD,WAAYZ,EAAA,MAAa,SAAQU,EAAAZ,CAAA,EAAa,OAAA,oCACjEW,EAAqEC,EAAAG,CAAA,EAAA,CAApD,WAAYb,EAAA,MAAa,SAAQM,CAAA,0DAIxD,IAcY,CAdZG,EAcYK,EAAA,KAAA,WAbV,IAAmE,CAAnEL,EAAmEM,EAAA,CAAtD,MAAM,cAAe,MAAOf,EAAA,MAAW,WAAA,oBAEpDS,EAGYK,EAAA,CAHD,UAAA,IAAS,WAClB,IAAmD,CAAnDE,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,EAAmD,OAAA,CAA7C,MAAM,wBAAA,EAAyB,UAAO,EAAA,GAC5CR,EAA8DC,EAAAQ,CAAA,EAAA,CAA/B,QAASlB,EAAA,MAAW,OAAA,8BAGrDS,EAKYK,EAAA,CALD,UAAA,IAAS,WAClB,IAAqG,CAArGG,EAAqG,OAArGE,EAAqGC,EAA7DV,EAAAW,CAAA,WAAyBrB,EAAA,MAAW,QAAQ,MAAM,CAAA,EAAA,CAAA,GAC1FsB,EAAA,EAAA,EAAAC,EAEWC,EAAA,KAAAC,EAFgBzB,EAAA,MAAW,QAArB0B,QACfnB,EAAiEoB,EAAA,CADd,IAAAD,EAAO,EAAA,aAClD,IAAgD,CAAhDjB,EAAgDC,EAAAkB,CAAA,EAAA,CAAlB,OAAAF,CAAA,EAAc,KAAA,EAAA,CAAA,QAAA,CAAA,CAAA"}